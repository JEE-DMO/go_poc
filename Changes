OK Tonton,
tu veux **retrouver 1 seul pod Spark** parmi **168 pods dynamiques**, et **uniquement celui lancÃ© le 24/11/2025 Ã  14h20**.

â¡ï¸ Je te donne **la mÃ©thode exacte**, robuste pour IKS/Astronomer/Spark-on-K8s.

---

# ğŸŸ© 1) ğŸ” PremiÃ¨re Ã©tape : rÃ©cupÃ©rer **la liste complÃ¨te** des pods Spark

Les pods Spark dynamiques ont toujours un pattern :
`<app_name>-<random>-driver` ou `â€¦-executor`.

Donc tu listes tous :

```bash
kubectl get pods -n <spark-namespace> | grep driver
```

---

# ğŸŸ© 2) ğŸ” DeuxiÃ¨me Ã©tape : afficher **le timestamp de crÃ©ation** de chaque pod

```bash
kubectl get pods -n <spark-ns> \
  -o custom-columns=NAME:.metadata.name,CREATED:.metadata.creationTimestamp
```

Tu obtiens quelque chose comme :

```
ap89201-job1-xxxxx-driver    2025-11-24T14:19:58Z
ap89201-job1-yyyyy-driver    2025-11-25T07:32:10Z
...
```

---

# ğŸŸ¥ 3) ğŸ¯ Filtrer directement par date (24 novembre 2025)

En UTC :
14h20 France = **13h20 UTC**

Donc :

```bash
kubectl get pods -n <spark-ns> \
  -o custom-columns=NAME:.metadata.name,CREATED:.metadata.creationTimestamp \
  | grep "2025-11-24T13:2"
```

Tu vas normalement voir **1 seul** pod qui matche ~13:20 UTC.

---

# ğŸŸ¦ 4) ğŸ”¥ RÃ©cupÃ©rer **les logs du bon pod**, sans se tromper

Une fois que tu as le nom exact :

```bash
kubectl logs <pod-name> -n <spark-ns>
```

OU si le pod a crash :

```bash
kubectl logs <pod-name> -n <spark-ns> --previous
```

---

# ğŸŸ§ 5) ğŸ¯ MÃ©thode ultime : filtrer *directement* dans K8s (sans grep)

```bash
kubectl get pods -n <spark-ns> \
  --field-selector=status.startTime>=2025-11-24T13:20:00Z \
  -o name
```

Puis :

```bash
kubectl logs $(kubectl get pods -n <spark-ns> \
  --field-selector=status.startTime>=2025-11-24T13:20:00Z \
  -o name) -n <spark-ns>
```

---

# ğŸŸ© RÃ©sultat :

â¡ï¸ Tu identifies **le seul pod** qui correspond Ã  la date
â¡ï¸ Tu rÃ©cupÃ¨res ses logs mÃªme sâ€™il est en erreur/crash
â¡ï¸ Tu Ã©vites de te taper les **168 pods** les uns aprÃ¨s les autres

---

# ğŸ‘‰ Si tu veux, donne-moi :

* le namespace Spark
* un `kubectl get pods | head -5`
* ou mÃªme une photo

Et je te gÃ©nÃ¨re **directement la commande exacte Ã  copier-coller** qui te sort **UNIQUEMENT le pod du 24/11/2025 Ã  14h20**.
